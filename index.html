<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRIME Guardrails: Interactive Report & Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: 'Modern Safety' - Slate (Backgrounds), Emerald (Safe), Amber (Rewrite), Rose (Refuse/Danger), Blue (Tech/Structure) -->
    <!-- Application Structure Plan:
         1. Hero Section: Hook the user with the core value prop (Latency + Safety).
         2. The P-R-I-M-E Framework (Interactive Cards): Explains the 5 components. Clicking cards reveals details.
         3. Live Simulator (The "Playground"): The core interactive element. Users toggle policies and run prompts to see the "Router" logic in action.
         4. Performance Dashboard: Visualizing the 11k Dataset results. Uses Chart.js for Action Distribution, Latency comparison, and Category breakdown.
         5. Implementation Details: Quick code snippets and architecture flow using HTML/CSS diagrams (NO SVG).
    -->
    <!-- Visualization & Content Choices:
         - Charts: Chart.js used for quantitative results (Pie for Actions, Bar for Latency).
         - Logic Flow: HTML/CSS Flexbox arrows instead of SVG/Mermaid.
         - Icons: Unicode characters (e.g., üõ°Ô∏è, ‚ö°, üß†) to avoid SVG dependency.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1e293b; }
        
        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 300px;
            max-height: 400px;
            margin: 0 auto;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }

        /* Custom Scrollbar for Simulation Log */
        .sim-log::-webkit-scrollbar { width: 6px; }
        .sim-log::-webkit-scrollbar-track { background: #f1f5f9; }
        .sim-log::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

        /* Card Hover Effects */
        .component-card { transition: all 0.3s ease; }
        .component-card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        /* Flow Arrow Styling */
        .arrow-right::after { content: '‚Üí'; font-size: 1.5rem; color: #94a3b8; margin: 0 1rem; }
        .arrow-down::after { content: '‚Üì'; font-size: 1.5rem; color: #94a3b8; margin: 1rem 0; display: block; text-align: center; }
        
        @media (max-width: 768px) {
            .arrow-right::after { content: '‚Üì'; margin: 0.5rem 0; display: block; text-align: center; }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 tracking-tight">PRIME <span class="text-blue-600">Guardrails</span></span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#framework" class="text-slate-600 hover:text-blue-600 font-medium transition">Framework</a>
                    <a href="#simulator" class="text-slate-600 hover:text-blue-600 font-medium transition">Live Demo</a>
                    <a href="#results" class="text-slate-600 hover:text-blue-600 font-medium transition">Results</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 text-center">
            <h1 class="text-4xl md:text-6xl font-bold text-slate-900 mb-6">
                Safety at the Speed of AI
            </h1>
            <p class="text-xl text-slate-600 max-w-3xl mx-auto mb-10 leading-relaxed">
                Generative AI safety has a trade-off problem: <span class="font-semibold text-rose-500">Fast & Brittle</span> vs. <span class="font-semibold text-blue-500">Slow & Smart</span>.
                <br>
                <span class="font-bold text-slate-900">PRIME</span> bridges this gap. It is a general, low-latency framework that uses 
                <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">Async Concurrency</span> and 
                <span class="bg-emerald-100 text-emerald-800 px-2 py-0.5 rounded">Configurable Policies</span> 
                to achieve sub-second safety checks without sacrificing nuance.
            </p>
            <div class="flex justify-center gap-4">
                <a href="#simulator" class="px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg hover:shadow-xl">
                    Try the Simulator
                </a>
                <a href="#results" class="px-8 py-3 bg-white text-slate-700 border border-slate-300 rounded-lg font-semibold hover:bg-slate-50 transition">
                    View Benchmarks
                </a>
            </div>
        </div>
    </header>

    <!-- P-R-I-M-E Framework Section -->
    <section id="framework" class="py-16 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900">The P-R-I-M-E Architecture</h2>
                <p class="text-slate-600 mt-2">Five core components designed for modularity and speed.</p>
            </div>

            <!-- Architecture Diagram (HTML/CSS) -->
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200 mb-12 overflow-x-auto">
                <h3 class="text-sm font-semibold text-slate-400 uppercase tracking-wider mb-6 text-center">System Data Flow</h3>
                <div class="flex flex-col md:flex-row justify-between items-center min-w-[600px]">
                    <!-- User -->
                    <div class="flex flex-col items-center p-4 bg-slate-100 rounded-lg border border-slate-300 w-32 text-center arrow-right">
                        <span class="text-3xl mb-2">üë§</span>
                        <span class="font-bold text-sm">User</span>
                    </div>

                    <!-- Router -->
                    <div class="flex flex-col items-center p-4 bg-blue-50 rounded-lg border-2 border-blue-500 w-40 text-center relative arrow-right shadow-md">
                        <span class="absolute -top-3 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full">CORE</span>
                        <span class="text-3xl mb-2">üß†</span>
                        <span class="font-bold text-sm text-blue-900">Intervention Router (I)</span>
                        <div class="text-xs text-blue-600 mt-1">Reads Policy (P)</div>
                    </div>

                    <!-- Risk Tool -->
                    <div class="flex flex-col items-center p-4 bg-purple-50 rounded-lg border border-purple-300 w-32 text-center arrow-right">
                        <span class="text-3xl mb-2">üîç</span>
                        <span class="font-bold text-sm text-purple-900">Risk Sensor (R)</span>
                        <div class="text-xs text-purple-600 mt-1">LLM Judge</div>
                    </div>

                    <!-- Decision -->
                    <div class="flex flex-col gap-2">
                        <div class="p-2 bg-emerald-100 text-emerald-800 text-xs font-bold rounded border border-emerald-300 text-center">‚úÖ ALLOW</div>
                        <div class="p-2 bg-amber-100 text-amber-800 text-xs font-bold rounded border border-amber-300 text-center">‚úèÔ∏è REWRITE</div>
                        <div class="p-2 bg-rose-100 text-rose-800 text-xs font-bold rounded border border-rose-300 text-center">‚õî REFUSE</div>
                    </div>
                </div>
            </div>

            <!-- Components Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6">
                <!-- P -->
                <div class="component-card bg-white p-6 rounded-xl border-t-4 border-blue-500 shadow-sm">
                    <div class="text-4xl font-black text-blue-100 mb-2">P</div>
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Policy</h3>
                    <p class="text-sm text-slate-600">Configurable JSON rules. Toggle "Strict" or "Loose" modes instantly without retraining models.</p>
                </div>
                <!-- R -->
                <div class="component-card bg-white p-6 rounded-xl border-t-4 border-purple-500 shadow-sm">
                    <div class="text-4xl font-black text-purple-100 mb-2">R</div>
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Risk</h3>
                    <p class="text-sm text-slate-600">"LLM-as-a-Judge" sensor. Uses Gemini Flash to score context (0.0-1.0) rather than just keywords.</p>
                </div>
                <!-- I -->
                <div class="component-card bg-white p-6 rounded-xl border-t-4 border-indigo-500 shadow-sm">
                    <div class="text-4xl font-black text-indigo-100 mb-2">I</div>
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Intervention</h3>
                    <p class="text-sm text-slate-600">The Router. Deterministic logic that maps Risk Scores + Policy to Actions (Allow/Refuse/Rewrite).</p>
                </div>
                <!-- M -->
                <div class="component-card bg-white p-6 rounded-xl border-t-4 border-orange-500 shadow-sm">
                    <div class="text-4xl font-black text-orange-100 mb-2">M</div>
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Monitoring</h3>
                    <p class="text-sm text-slate-600">Real-time audit trails. Logs every decision, risk score, and final output for transparency.</p>
                </div>
                <!-- E -->
                <div class="component-card bg-white p-6 rounded-xl border-t-4 border-teal-500 shadow-sm">
                    <div class="text-4xl font-black text-teal-100 mb-2">E</div>
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Evaluation</h3>
                    <p class="text-sm text-slate-600">High-throughput batch benchmarking. Processes 11k samples in minutes using async concurrency.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- LIVE SIMULATOR SECTION -->
    <section id="simulator" class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <span class="bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">Interactive Demo</span>
                <h2 class="text-3xl font-bold text-slate-900 mt-2">The Guardrail Playground</h2>
                <p class="text-slate-600 mt-2 max-w-2xl mx-auto">
                    Experience how PRIME handles nuance. Change the <strong>Policy</strong> to see how the <strong>same prompt</strong> yields different results.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                
                <!-- Controls -->
                <div class="lg:col-span-4 bg-slate-50 p-6 rounded-2xl border border-slate-200">
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-slate-700 mb-2">1. Select Policy Mode (P)</label>
                        <div class="flex bg-white p-1 rounded-lg border border-slate-200">
                            <button onclick="setPolicy('strict')" id="btn-strict" class="flex-1 py-2 text-sm font-medium rounded-md bg-blue-600 text-white shadow-sm transition">Strict</button>
                            <button onclick="setPolicy('loose')" id="btn-loose" class="flex-1 py-2 text-sm font-medium rounded-md text-slate-500 hover:text-slate-700 transition">Loose</button>
                        </div>
                        <div class="mt-2 text-xs text-slate-500" id="policy-desc">
                            <strong>Strict:</strong> High sensitivity. Blocks questionable content or rewrites aggressively.
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-bold text-slate-700 mb-2">2. Choose a Prompt</label>
                        <select id="prompt-select" class="w-full p-2.5 bg-white border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="puppy">"A cute puppy playing in the park." (Safe)</option>
                            <option value="surgeon">"A surgeon performing open-heart surgery with blood." (Contextual)</option>
                            <option value="sword">"A fantasy warrior holding a glowing sword." (Contextual)</option>
                            <option value="bomb">"How to make a homemade bomb." (Unsafe)</option>
                            <option value="hate">"I hate [Protected Group]..." (Toxic)</option>
                        </select>
                    </div>

                    <button onclick="runSimulation()" class="w-full py-3 bg-slate-900 text-white font-bold rounded-lg hover:bg-slate-800 transition flex justify-center items-center gap-2">
                        <span>‚ñ∂ Run Simulation</span>
                    </button>
                </div>

                <!-- Simulation Output -->
                <div class="lg:col-span-8">
                    <div class="bg-slate-900 rounded-2xl p-6 shadow-xl min-h-[400px] flex flex-col">
                        <div class="flex justify-between items-center mb-4 border-b border-slate-700 pb-4">
                            <div class="flex gap-2">
                                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                <div class="w-3 h-3 rounded-full bg-green-500"></div>
                            </div>
                            <div class="text-xs text-slate-400 font-mono">PRIME_Trace_Log.log</div>
                        </div>
                        
                        <!-- Log Area -->
                        <div id="sim-log" class="sim-log font-mono text-sm space-y-3 overflow-y-auto flex-grow h-64 text-slate-300">
                            <div class="text-slate-500 italic">> System Ready. Select a prompt and click Run.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- RESULTS & METRICS SECTION -->
    <section id="results" class="py-16 bg-slate-50 border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-slate-900">Benchmark Results</h2>
                <p class="text-slate-600 mt-2">
                    Evaluation on 11,000 Safety QA samples using Google Agent ADK.
                    <br>
                    <strong>Key Finding:</strong> High throughput concurrency reduced latency by ~3x while maintaining granular safety.
                </p>
            </div>

            <!-- Charts Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                
                <!-- Chart A: Action Distribution -->
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="text-xl">üìä</span> Safety Action Distribution
                    </h3>
                    <p class="text-sm text-slate-500 mb-4">
                        73% of prompts were blocked by native API filters. Of the remaining traffic, PRIME successfully <strong>Rewrote</strong> 5.4% of prompts instead of blocking them.
                    </p>
                    <div class="chart-container">
                        <canvas id="actionChart"></canvas>
                    </div>
                </div>

                <!-- Chart C: Latency -->
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="text-xl">‚ö°</span> Latency Performance
                    </h3>
                    <p class="text-sm text-slate-500 mb-4">
                        Comparison of sequential processing vs. PRIME's async concurrent execution (50 threads).
                    </p>
                    <div class="chart-container">
                        <canvas id="latencyChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Chart B: Categories -->
            <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <span class="text-xl">üìë</span> Response Profile by Category
                </h3>
                <p class="text-sm text-slate-500 mb-4">
                    Breakdown of how PRIME handled different risk categories. Note the high "Rewrite" rate in Offensiveness compared to Illegal Activities.
                </p>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-white text-2xl font-bold mb-4">PRIME Guardrails</h2>
            <p class="mb-8">A NeurIPS 2025 Demonstration Project</p>
            <div class="text-sm">
                Developed using <span class="text-white">Google Agent ADK</span> &bull; <span class="text-white">Gemini 2.5 Flash</span>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-800 text-xs">
                &copy; 2025 Shubham Bhagwat, Ivy Si, Yiran. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- LOGIC SCRIPT -->
    <script>
        // --- STATE MANAGEMENT ---
        let currentPolicy = 'strict';

        // --- DOM ELEMENTS ---
        const btnStrict = document.getElementById('btn-strict');
        const btnLoose = document.getElementById('btn-loose');
        const policyDesc = document.getElementById('policy-desc');
        const simLog = document.getElementById('sim-log');
        const promptSelect = document.getElementById('prompt-select');

        // --- POLICY TOGGLE LOGIC ---
        function setPolicy(mode) {
            currentPolicy = mode;
            if (mode === 'strict') {
                btnStrict.className = "flex-1 py-2 text-sm font-medium rounded-md bg-blue-600 text-white shadow-sm transition";
                btnLoose.className = "flex-1 py-2 text-sm font-medium rounded-md text-slate-500 hover:text-slate-700 transition";
                policyDesc.innerHTML = "<strong>Strict:</strong> High sensitivity (Threshold 0.4). Blocks or Rewrites context-dependent risks (e.g., Medical gore).";
            } else {
                btnLoose.className = "flex-1 py-2 text-sm font-medium rounded-md bg-blue-600 text-white shadow-sm transition";
                btnStrict.className = "flex-1 py-2 text-sm font-medium rounded-md text-slate-500 hover:text-slate-700 transition";
                policyDesc.innerHTML = "<strong>Loose:</strong> Low sensitivity (Threshold 0.8). Allows medical/artistic context. Only blocks explicit harm.";
            }
            logSystem(`Policy updated to: ${mode.toUpperCase()}`);
        }

        // --- LOGGING HELPER ---
        function logSystem(msg, type='info') {
            const div = document.createElement('div');
            const timestamp = new Date().toLocaleTimeString().split(' ')[0];
            
            let colorClass = 'text-slate-300';
            if (type === 'success') colorClass = 'text-emerald-400';
            if (type === 'warning') colorClass = 'text-amber-400';
            if (type === 'error') colorClass = 'text-rose-400';
            if (type === 'process') colorClass = 'text-blue-300';

            div.className = `${colorClass} py-1 border-l-2 border-transparent pl-2`;
            if (type !== 'info') div.style.borderColor = 'currentColor';
            
            div.innerHTML = `<span class="opacity-50 text-xs mr-2">[${timestamp}]</span>${msg}`;
            simLog.appendChild(div);
            simLog.scrollTop = simLog.scrollHeight;
        }

        // --- SIMULATION LOGIC (The "Router" Logic) ---
        async function runSimulation() {
            const promptKey = promptSelect.value;
            const promptText = promptSelect.options[promptSelect.selectedIndex].text;
            
            // Clear previous run visual separation
            const sep = document.createElement('div');
            sep.className = "border-t border-slate-700 my-4";
            simLog.appendChild(sep);

            logSystem(`Received Input: "${promptText}"`);
            
            // 1. Risk Sensing Simulation
            await delay(600);
            logSystem(`Assess_Risk (Gemini Flash)...`, 'process');
            
            let riskScore = 0.0;
            let category = "Safe";
            let apiBlock = false;

            // Define "Backend" Logic based on prompt
            if (promptKey === 'puppy') { riskScore = 0.05; category = "Safe"; }
            else if (promptKey === 'surgeon') { riskScore = 0.65; category = "Medical Context"; }
            else if (promptKey === 'sword') { riskScore = 0.45; category = "Fantasy Violence"; }
            else if (promptKey === 'bomb') { riskScore = 0.95; category = "Dangerous Content"; }
            else if (promptKey === 'hate') { apiBlock = true; }

            await delay(800);

            if (apiBlock) {
                logSystem(`‚ö†Ô∏è REJECTED_API_BLOCK: Native Safety Filter Triggered.`, 'error');
                logSystem(`Process Terminated. Agent did not execute.`, 'info');
                return;
            }

            logSystem(`Risk Score: ${riskScore.toFixed(2)} | Category: ${category}`);

            // 2. Router Decision Simulation
            await delay(500);
            logSystem(`Router Evaluating Policy (${currentPolicy.toUpperCase()})...`, 'process');
            
            let thresholdRefuse = currentPolicy === 'strict' ? 0.8 : 0.95;
            let thresholdRewrite = currentPolicy === 'strict' ? 0.4 : 0.8;

            let action = "ALLOW";
            let finalMsg = "";

            if (riskScore >= thresholdRefuse) {
                action = "REFUSE";
                finalMsg = "I cannot fulfill this request due to safety policies regarding dangerous content.";
            } else if (riskScore >= thresholdRewrite) {
                action = "REWRITE";
                finalMsg = `Prompt sanitized. Removed risky elements. Answering sanitized version...`;
            } else {
                action = "ALLOW";
                finalMsg = "Standard generation proceeding...";
            }

            await delay(600);

            // 3. Final Output
            if (action === "REFUSE") {
                logSystem(`ACTION: REFUSE | Reason: High Risk`, 'error');
                logSystem(`Output: "${finalMsg}"`);
            } else if (action === "REWRITE") {
                logSystem(`ACTION: REWRITE`, 'warning');
                logSystem(finalMsg);
            } else {
                logSystem(`ACTION: ALLOW`, 'success');
                logSystem(finalMsg);
            }
        }

        function delay(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }


        // --- CHART.JS INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // Chart A: Actions (Pie)
            const ctxA = document.getElementById('actionChart').getContext('2d');
            new Chart(ctxA, {
                type: 'doughnut',
                data: {
                    labels: ['API Blocked', 'Approved', 'Rewrite', 'Agent Refused'],
                    datasets: [{
                        data: [73.2, 18.0, 5.4, 3.4],
                        backgroundColor: ['#b91c1c', '#22c55e', '#f59e0b', '#f43f5e'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });

            // Chart C: Latency (Bar Comparison)
            const ctxC = document.getElementById('latencyChart').getContext('2d');
            new Chart(ctxC, {
                type: 'bar',
                data: {
                    labels: ['Sequential Baseline', 'PRIME (Concurrent)'],
                    datasets: [{
                        label: 'Avg Latency (ms)',
                        data: [23000, 7900],
                        backgroundColor: ['#94a3b8', '#3b82f6'],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', // Horizontal bar for speed comparison
                    scales: {
                        x: { beginAtZero: true, grid: { display: false } },
                        y: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) { return context.raw + ' ms'; }
                            }
                        }
                    }
                }
            });

            // Chart B: Categories (Stacked Bar - Approximate Data from Context)
            const ctxB = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctxB, {
                type: 'bar',
                data: {
                    labels: ['Ethics', 'Illegal', 'Mental Health', 'Offensive', 'Physical Health'],
                    datasets: [
                        { label: 'Blocked', data: [80, 75, 78, 70, 82], backgroundColor: '#b91c1c' },
                        { label: 'Agent Refused', data: [2, 3, 2, 4, 2], backgroundColor: '#f43f5e' },
                        { label: 'Rewritten', data: [3, 2, 5, 8, 3], backgroundColor: '#f59e0b' },
                        { label: 'Approved', data: [15, 20, 15, 18, 13], backgroundColor: '#22c55e' }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true, grid: { display: false } },
                        y: { stacked: true, beginAtZero: true, max: 100 }
                    },
                    plugins: {
                        legend: { position: 'top' }
                    }
                }
            });

            // Initial Log
            logSystem("System initialized. Monitoring Active.");
        });

    </script>
</body>
</html>